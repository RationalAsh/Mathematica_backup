(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     60914,       1665]
NotebookOptionsPosition[     59439,       1609]
NotebookOutlinePosition[     59947,       1629]
CellTagsIndexPosition[     59904,       1626]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Modelling and Control of One Leg Hopper", "Title",
 CellChangeTimes->{{3.653436341746172*^9, 3.653436404676317*^9}, 
   3.653436527071935*^9, {3.6534477519435863`*^9, 3.6534477724495163`*^9}, {
   3.653447820530453*^9, 3.653447837138655*^9}}],

Cell[CellGroupData[{

Cell["Diagram", "Section",
 CellChangeTimes->{{3.6534478536243896`*^9, 3.6534478695731544`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Graphics", "[", 
  RowBox[{"{", 
   RowBox[{"Thick", ",", "Green", ",", 
    RowBox[{"Rectangle", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"-", "0.3"}], ",", 
        RowBox[{"-", "0.1"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"0.3", ",", "0.1"}], "}"}]}], "]"}], ",", "Thick", ",", "Blue",
     ",", 
    RowBox[{"Line", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Sin", "[", 
          RowBox[{"Pi", "/", "6"}], "]"}], ",", 
         RowBox[{"-", 
          RowBox[{"Cos", "[", 
           RowBox[{"Pi", "/", "6"}], "]"}]}]}], "}"}]}], "}"}], "]"}], ",", 
    " ", "Thick", ",", " ", "Blue", ",", 
    RowBox[{"Disk", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Sin", "[", 
         RowBox[{"Pi", "/", "6"}], "]"}], ",", 
        RowBox[{"-", 
         RowBox[{"Cos", "[", 
          RowBox[{"Pi", "/", "6"}], "]"}]}]}], "}"}], ",", "0.05"}], "]"}], 
    ",", " ", "Thick", ",", "Blue", ",", 
    RowBox[{"Line", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Sin", "[", 
          RowBox[{"Pi", "/", "6"}], "]"}], ",", 
         RowBox[{"-", 
          RowBox[{"Cos", "[", 
           RowBox[{"Pi", "/", "6"}], "]"}]}]}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"Sin", "[", 
           RowBox[{"Pi", "/", "6"}], "]"}], "+", 
          RowBox[{"Sin", "[", 
           RowBox[{
            RowBox[{"Pi", "/", "6"}], "-", 
            RowBox[{"Pi", "/", "3"}]}], "]"}]}], ",", 
         RowBox[{
          RowBox[{"-", 
           RowBox[{"Cos", "[", 
            RowBox[{"Pi", "/", "6"}], "]"}]}], "-", 
          RowBox[{"Cos", "[", 
           RowBox[{
            RowBox[{"Pi", "/", "6"}], "-", 
            RowBox[{"Pi", "/", "3"}]}], "]"}]}]}], "}"}]}], "}"}], "]"}], ",",
     " ", 
    RowBox[{"Disk", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"Sin", "[", 
          RowBox[{"Pi", "/", "6"}], "]"}], "+", 
         RowBox[{"Sin", "[", 
          RowBox[{
           RowBox[{"Pi", "/", "6"}], "-", 
           RowBox[{"Pi", "/", "3"}]}], "]"}]}], ",", 
        RowBox[{
         RowBox[{"-", 
          RowBox[{"Cos", "[", 
           RowBox[{"Pi", "/", "6"}], "]"}]}], "-", 
         RowBox[{"Cos", "[", 
          RowBox[{
           RowBox[{"Pi", "/", "6"}], "-", 
           RowBox[{"Pi", "/", "3"}]}], "]"}]}]}], "}"}], ",", "0.05"}], 
     "]"}]}], "}"}], "]"}]], "Input",
 CellChangeTimes->{{3.6534478757577863`*^9, 3.6534478930689774`*^9}, {
   3.6534479579713054`*^9, 3.653448017533147*^9}, {3.653448052600456*^9, 
   3.653448134782655*^9}, {3.653448171422147*^9, 3.6534481732555923`*^9}, {
   3.6534482292186365`*^9, 3.6534482344782267`*^9}, 3.6534482669137*^9, {
   3.653448317524656*^9, 3.653448337306164*^9}, {3.6534483725771084`*^9, 
   3.65344838787781*^9}, {3.6534484336782327`*^9, 3.6534485691389766`*^9}, {
   3.653448607070792*^9, 3.6534486713661757`*^9}, {3.6534487068367662`*^9, 
   3.6534487315067577`*^9}, {3.653448772979292*^9, 3.6534488157545376`*^9}, {
   3.6534488869840817`*^9, 3.653448920155609*^9}, {3.65344899871233*^9, 
   3.653449124468417*^9}, {3.653449188854371*^9, 3.653449244499398*^9}, {
   3.6534677201706038`*^9, 3.6534678319849987`*^9}, {3.6534678621047215`*^9, 
   3.653467916783849*^9}, {3.6534679699258885`*^9, 3.65346797607524*^9}, {
   3.653468008676105*^9, 3.6534680724937553`*^9}}],

Cell[BoxData[
 GraphicsBox[{
   {RGBColor[0, 1, 0], Thickness[Large], 
    RectangleBox[{-0.3, -0.1}, {0.3, 0.1}]}, 
   {RGBColor[0, 0, 1], Thickness[Large], 
    LineBox[NCache[{{0, 0}, {
       Rational[1, 2], Rational[-1, 2] 3^Rational[1, 2]}}, {{0, 0}, {
       0.5, -0.8660254037844386}}]]}, 
   {RGBColor[0, 0, 1], Thickness[Large], 
    DiskBox[NCache[{Rational[1, 2], Rational[-1, 2] 3^Rational[1, 2]}, {
      0.5, -0.8660254037844386}], 0.05]}, 
   {RGBColor[0, 0, 1], Thickness[Large], 
    LineBox[NCache[{{Rational[1, 2], Rational[-1, 2] 3^Rational[1, 2]}, {
       0, -3^Rational[1, 2]}}, {{0.5, -0.8660254037844386}, {
       0, -1.7320508075688772`}}]], 
    DiskBox[NCache[{0, -3^Rational[1, 2]}, {0, -1.7320508075688772`}], 
     0.05]}}]], "Output",
 CellChangeTimes->{
  3.65346792484031*^9, 3.6534679772393064`*^9, {3.6534680126333313`*^9, 
   3.6534680287902555`*^9}, {3.6534680598440313`*^9, 3.6534680734488096`*^9}, 
   3.653472851592104*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[StyleBox["Writing Down the Lagrangian", "Section"]], "Title",
 CellChangeTimes->{{3.653436341746172*^9, 3.653436404676317*^9}, 
   3.653436527071935*^9, {3.6534477519435863`*^9, 3.6534477724495163`*^9}, {
   3.653447820530453*^9, 3.653447837138655*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"ClearAll", "[", "\"\<Global`*\>\"", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"T", "[", "t_", "]"}], "=", 
   RowBox[{
    RowBox[{
     RowBox[{"1", "/", "2"}], " ", "M0", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"x", "'"}], "[", "t", "]"}], "^", "2"}], "+", 
       RowBox[{
        RowBox[{
         RowBox[{"y", "'"}], "[", "t", "]"}], "^", "2"}]}], ")"}]}], " ", "+",
     " ", 
    RowBox[{
     RowBox[{"1", "/", "2"}], " ", "M1", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"l1", " ", 
           RowBox[{
            RowBox[{"\[Theta]1", "'"}], "[", "t", "]"}], 
           RowBox[{"Cos", "[", 
            RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}], "+", 
          RowBox[{
           RowBox[{"x", "'"}], "[", "t", "]"}]}], ")"}], "^", "2"}], " ", "+",
        " ", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"l1", " ", 
           RowBox[{
            RowBox[{"\[Theta]1", "'"}], "[", "t", "]"}], 
           RowBox[{"Sin", "[", 
            RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}], "+", 
          RowBox[{
           RowBox[{"y", "'"}], "[", "t", "]"}]}], ")"}], "^", "2"}]}], 
      ")"}]}], "+", 
    RowBox[{
     RowBox[{"1", "/", "2"}], " ", "M2", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"l2", " ", 
           RowBox[{
            RowBox[{"\[Theta]2", "'"}], "[", "t", "]"}], 
           RowBox[{"Cos", "[", 
            RowBox[{
             RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
             RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}]}], "+", 
          RowBox[{"l1", " ", 
           RowBox[{
            RowBox[{"\[Theta]1", "'"}], "[", "t", "]"}], 
           RowBox[{"Cos", "[", 
            RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}], "+", 
          RowBox[{
           RowBox[{"x", "'"}], "[", "t", "]"}]}], ")"}], "^", "2"}], "+", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"l2", " ", 
           RowBox[{
            RowBox[{"\[Theta]2", "'"}], "[", "t", "]"}], 
           RowBox[{"Sin", "[", 
            RowBox[{
             RowBox[{"\[Theta]1", "[", "t", "]"}], " ", "+", " ", 
             RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}]}], "+", 
          RowBox[{"l1", " ", 
           RowBox[{
            RowBox[{"\[Theta]1", "'"}], "[", "t", "]"}], 
           RowBox[{"Sin", "[", 
            RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}], "+", 
          RowBox[{
           RowBox[{"y", "'"}], "[", "t", "]"}]}], ")"}], "^", "2"}]}], 
      ")"}]}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"V", "[", "t_", "]"}], "=", 
   RowBox[{
    RowBox[{"M0", " ", "g", " ", 
     RowBox[{"y", "[", "t", "]"}]}], " ", "+", " ", 
    RowBox[{"M1", " ", "g", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"y", "[", "t", "]"}], "-", 
       RowBox[{"l1", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}]}], ")"}]}], " ", "+", 
    " ", 
    RowBox[{"M2", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"y", "[", "t", "]"}], "-", 
       RowBox[{"l1", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}], "-", 
       RowBox[{"l2", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}]}]}], ")"}]}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"L", "[", "t_", "]"}], "=", 
   RowBox[{
    RowBox[{"T", "[", "t", "]"}], "-", 
    RowBox[{"V", "[", "t", "]"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.65343654383069*^9, 3.653436546867587*^9}, {
  3.653436595115938*^9, 3.6534366105158997`*^9}, {3.653437648937254*^9, 
  3.653437652338797*^9}, {3.6534795770597086`*^9, 3.653479578416786*^9}}],

Cell[CellGroupData[{

Cell["Solving Dynamics Using Euler-Lagrange", "Section",
 CellChangeTimes->{{3.6534367713470573`*^9, 3.653436803949959*^9}}],

Cell["\<\
Use the Euler-Lagrange equation to get the dynamics of each state variable.
\
\>", "Text",
 CellChangeTimes->{{3.653437286689357*^9, 3.6534373240786*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dyn", " ", "=", " ", 
  RowBox[{"Expand", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"D", "[", 
         RowBox[{
          RowBox[{"L", "[", "t", "]"}], ",", 
          RowBox[{
           RowBox[{"x", "'"}], "[", "t", "]"}]}], "]"}], ",", "t"}], "]"}], 
      " ", "-", " ", 
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"L", "[", "t", "]"}], ",", 
        RowBox[{"x", "[", "t", "]"}]}], "]"}]}], ",", " ", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"D", "[", 
         RowBox[{
          RowBox[{"L", "[", "t", "]"}], ",", 
          RowBox[{
           RowBox[{"y", "'"}], "[", "t", "]"}]}], "]"}], ",", "t"}], "]"}], 
      " ", "-", " ", 
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"L", "[", "t", "]"}], ",", 
        RowBox[{"y", "[", "t", "]"}]}], "]"}]}], ",", " ", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"D", "[", 
         RowBox[{
          RowBox[{"L", "[", "t", "]"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]1", "'"}], "[", "t", "]"}]}], "]"}], ",", "t"}], 
       "]"}], " ", "-", " ", 
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"L", "[", "t", "]"}], ",", 
        RowBox[{"\[Theta]1", "[", "t", "]"}]}], "]"}]}], ",", " ", 
     RowBox[{
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"D", "[", 
         RowBox[{
          RowBox[{"L", "[", "t", "]"}], ",", 
          RowBox[{
           RowBox[{"\[Theta]2", "'"}], "[", "t", "]"}]}], "]"}], ",", "t"}], 
       "]"}], " ", "-", " ", 
      RowBox[{"D", "[", 
       RowBox[{
        RowBox[{"L", "[", "t", "]"}], ",", 
        RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}]}]}], "}"}], 
   "]"}]}]], "Input",
 CellChangeTimes->{{3.653436807515852*^9, 3.653436811527568*^9}, {
  3.6534373728896947`*^9, 3.6534375404477186`*^9}, {3.653437701480134*^9, 
  3.6534378924246426`*^9}, {3.6534381624238195`*^9, 3.653438166549573*^9}, {
  3.6534403785778675`*^9, 3.653440403011711*^9}, {3.6534751942260947`*^9, 
  3.6534751977172947`*^9}, {3.653475335368168*^9, 3.653475365491891*^9}, {
  3.6534754147027054`*^9, 3.653475417827884*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"-", "l1"}], " ", "M1", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "-", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
    RowBox[{"M0", " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"M1", " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"M2", " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M1", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}]}], ",", 
   RowBox[{
    RowBox[{"g", " ", "M0"}], "+", 
    RowBox[{"g", " ", "M1"}], "+", "M2", "+", 
    RowBox[{"l1", " ", "M1", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
    RowBox[{"M0", " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"M1", " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"M2", " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M1", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}]}], ",", 
   RowBox[{
    RowBox[{"g", " ", "l1", " ", "M1", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "-", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
    RowBox[{"l1", " ", "l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
    RowBox[{"l1", " ", "M1", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M1", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{
     SuperscriptBox["l1", "2"], " ", "M1", " ", 
     SuperscriptBox[
      RowBox[{"Cos", "[", 
       RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{
     SuperscriptBox["l1", "2"], " ", "M2", " ", 
     SuperscriptBox[
      RowBox[{"Cos", "[", 
       RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{
     SuperscriptBox["l1", "2"], " ", "M1", " ", 
     SuperscriptBox[
      RowBox[{"Sin", "[", 
       RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{
     SuperscriptBox["l1", "2"], " ", "M2", " ", 
     SuperscriptBox[
      RowBox[{"Sin", "[", 
       RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}]}], ",", 
   RowBox[{
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}]}], "-", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{
     SuperscriptBox["l2", "2"], " ", "M2", " ", 
     SuperscriptBox[
      RowBox[{"Cos", "[", 
       RowBox[{
        RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
        RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], "2"], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{
     SuperscriptBox["l2", "2"], " ", "M2", " ", 
     SuperscriptBox[
      RowBox[{"Sin", "[", 
       RowBox[{
        RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
        RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], "2"], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}]}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6534375545388765`*^9, 3.653437668401512*^9, 3.6534379055691004`*^9, 
   3.653438172229785*^9, 3.653438481834568*^9, {3.653440387167883*^9, 
   3.6534404091767225`*^9}, 3.6534751990423703`*^9, 3.6534753671199837`*^9, 
   3.6534754185179234`*^9}]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Collecting Terms and Rewriting in Manipulator Expression Form\
\>", "Section",
 CellChangeTimes->{{3.6534404179373384`*^9, 3.653440488426468*^9}}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"H", "=", 
   RowBox[{"IdentityMatrix", "[", "4", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Cq", " ", "=", " ", 
   RowBox[{"IdentityMatrix", "[", "4", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"G", " ", "=", " ", 
   RowBox[{"IdentityMatrix", "[", "4", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"H", "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "1"}], "]"}], "]"}], "=", 
   RowBox[{"Coefficient", "[", 
    RowBox[{"dyn", ",", 
     RowBox[{
      RowBox[{"x", "''"}], "[", "t", "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"H", "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "2"}], "]"}], "]"}], "=", 
   RowBox[{"Coefficient", "[", 
    RowBox[{"dyn", ",", 
     RowBox[{
      RowBox[{"y", "''"}], "[", "t", "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"H", "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "3"}], "]"}], "]"}], "=", 
   RowBox[{"Coefficient", "[", 
    RowBox[{"dyn", ",", 
     RowBox[{
      RowBox[{"\[Theta]1", "''"}], "[", "t", "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"H", "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "4"}], "]"}], "]"}], "=", 
   RowBox[{"Coefficient", "[", 
    RowBox[{"dyn", ",", 
     RowBox[{
      RowBox[{"\[Theta]2", "''"}], "[", "t", "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Cq", "[", 
   RowBox[{"[", 
    RowBox[{"All", ",", "1"}], "]"}], "]"}], "=", 
  RowBox[{"FactorTerms", "[", 
   RowBox[{"dyn", ",", " ", 
    RowBox[{
     RowBox[{"\[Theta]1", "'"}], "[", "t", "]"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "Cq", "]"}]}], "Input",
 CellChangeTimes->{{3.65347434759167*^9, 3.65347435930834*^9}, {
   3.6534744360927324`*^9, 3.6534745737676067`*^9}, {3.653474628691748*^9, 
   3.653474651348044*^9}, 3.653474732647694*^9, {3.653474762661411*^9, 
   3.6534748021476693`*^9}, {3.653475547122279*^9, 3.6534755927218876`*^9}, {
   3.653475740373333*^9, 3.653475759233412*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"-", "l1"}], " ", "M1", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "-", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
    RowBox[{"M0", " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"M1", " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"M2", " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M1", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}]}], ",", 
   RowBox[{
    RowBox[{"g", " ", "M0"}], "+", 
    RowBox[{"g", " ", "M1"}], "+", "M2", "+", 
    RowBox[{"l1", " ", "M1", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]1", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
    RowBox[{"M0", " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"M1", " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"M2", " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M1", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}]}], ",", 
   RowBox[{
    RowBox[{"g", " ", "l1", " ", "M1", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}]}], "+", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "-", 
    RowBox[{"l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
    RowBox[{"l1", " ", "l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["\[Theta]2", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
    RowBox[{"l1", " ", "M1", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["x", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M1", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["y", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{
     SuperscriptBox["l1", "2"], " ", "M1", " ", 
     SuperscriptBox[
      RowBox[{"Cos", "[", 
       RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{
     SuperscriptBox["l1", "2"], " ", "M2", " ", 
     SuperscriptBox[
      RowBox[{"Cos", "[", 
       RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{
     SuperscriptBox["l1", "2"], " ", "M1", " ", 
     SuperscriptBox[
      RowBox[{"Sin", "[", 
       RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{
     SuperscriptBox["l1", "2"], " ", "M2", " ", 
     SuperscriptBox[
      RowBox[{"Sin", "[", 
       RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "l2", " ", "M2", " ", 
     RowBox[{"Cos", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{"Cos", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "+", 
    RowBox[{"l1", " ", "l2", " ", "M2", " ", 
     RowBox[{"Sin", "[", 
      RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
     RowBox[{"Sin", "[", 
      RowBox[{
       RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
       RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
     RowBox[{
      SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}]}], ",", 
   RowBox[{
    RowBox[{"-", "l2"}], " ", "M2", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"-", 
       RowBox[{"Sin", "[", 
        RowBox[{
         RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
         RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}]}], "+", 
      RowBox[{
       RowBox[{"Sin", "[", 
        RowBox[{
         RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
         RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["x", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Theta]1", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "-", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
         RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["y", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Theta]1", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "-", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
         RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["x", "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "-", 
      RowBox[{
       RowBox[{"Sin", "[", 
        RowBox[{
         RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
         RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["y", "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "-", 
      RowBox[{"l1", " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
         RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "-", 
      RowBox[{"l1", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
       RowBox[{"Sin", "[", 
        RowBox[{
         RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
         RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
       RowBox[{
        SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "-", 
      RowBox[{"l2", " ", 
       SuperscriptBox[
        RowBox[{"Cos", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], "2"], " ", 
       RowBox[{
        SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "-", 
      RowBox[{"l2", " ", 
       SuperscriptBox[
        RowBox[{"Sin", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], "2"], " ", 
       RowBox[{
        SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}]}], 
  "}"}]], "Output",
 CellChangeTimes->{
  3.6534745789809046`*^9, 3.653474686471053*^9, 3.65347474201523*^9, 
   3.653474803229731*^9, 3.6534752772918463`*^9, {3.65347554782932*^9, 
   3.6534755932969203`*^9}, 3.6534757634176507`*^9}],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{
        RowBox[{"-", "l1"}], " ", "M1", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["\[Theta]1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
       RowBox[{"l1", " ", "M2", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["\[Theta]1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
       RowBox[{"l2", " ", "M2", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]1", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]2", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "-", 
       RowBox[{"l2", " ", "M2", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["\[Theta]2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
       RowBox[{"M0", " ", 
        RowBox[{
         SuperscriptBox["x", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"M1", " ", 
        RowBox[{
         SuperscriptBox["x", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"M2", " ", 
        RowBox[{
         SuperscriptBox["x", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l1", " ", "M1", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l1", " ", "M2", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l2", " ", "M2", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}], "0", "0", "0"},
     {
      RowBox[{
       RowBox[{"g", " ", "M0"}], "+", 
       RowBox[{"g", " ", "M1"}], "+", "M2", "+", 
       RowBox[{"l1", " ", "M1", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["\[Theta]1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
       RowBox[{"l1", " ", "M2", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["\[Theta]1", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
       RowBox[{"l2", " ", "M2", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]1", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]2", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l2", " ", "M2", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["\[Theta]2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
       RowBox[{"M0", " ", 
        RowBox[{
         SuperscriptBox["y", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"M1", " ", 
        RowBox[{
         SuperscriptBox["y", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"M2", " ", 
        RowBox[{
         SuperscriptBox["y", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l1", " ", "M1", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l1", " ", "M2", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l2", " ", "M2", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}], "1", "0", "0"},
     {
      RowBox[{
       RowBox[{"g", " ", "l1", " ", "M1", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}], "+", 
       RowBox[{"l1", " ", "M2", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}]}], "+", 
       RowBox[{"l2", " ", "M2", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}]}], "+", 
       RowBox[{"l2", " ", "M2", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["x", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]2", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "-", 
       RowBox[{"l2", " ", "M2", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["y", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]2", "\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l1", " ", "l2", " ", "M2", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["\[Theta]2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], "-", 
       RowBox[{"l1", " ", "l2", " ", "M2", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        SuperscriptBox[
         RowBox[{
          SuperscriptBox["\[Theta]2", "\[Prime]",
           MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
       RowBox[{"l1", " ", "M1", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["x", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l1", " ", "M2", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["x", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l1", " ", "M1", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["y", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l1", " ", "M2", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["y", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{
        SuperscriptBox["l1", "2"], " ", "M1", " ", 
        SuperscriptBox[
         RowBox[{"Cos", "[", 
          RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{
        SuperscriptBox["l1", "2"], " ", "M2", " ", 
        SuperscriptBox[
         RowBox[{"Cos", "[", 
          RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{
        SuperscriptBox["l1", "2"], " ", "M1", " ", 
        SuperscriptBox[
         RowBox[{"Sin", "[", 
          RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{
        SuperscriptBox["l1", "2"], " ", "M2", " ", 
        SuperscriptBox[
         RowBox[{"Sin", "[", 
          RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], "2"], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l1", " ", "l2", " ", "M2", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Cos", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "+", 
       RowBox[{"l1", " ", "l2", " ", "M2", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
        RowBox[{"Sin", "[", 
         RowBox[{
          RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
          RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
        RowBox[{
         SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}]}], "0", "1", "0"},
     {
      RowBox[{
       RowBox[{"-", "l2"}], " ", "M2", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", 
          RowBox[{"Sin", "[", 
           RowBox[{
            RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
            RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}]}], "+", 
         RowBox[{
          RowBox[{"Sin", "[", 
           RowBox[{
            RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
            RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
          RowBox[{
           SuperscriptBox["x", "\[Prime]",
            MultilineFunction->None], "[", "t", "]"}], " ", 
          RowBox[{
           SuperscriptBox["\[Theta]1", "\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], "-", 
         RowBox[{
          RowBox[{"Cos", "[", 
           RowBox[{
            RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
            RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
          RowBox[{
           SuperscriptBox["y", "\[Prime]",
            MultilineFunction->None], "[", "t", "]"}], " ", 
          RowBox[{
           SuperscriptBox["\[Theta]1", "\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], "-", 
         RowBox[{
          RowBox[{"Cos", "[", 
           RowBox[{
            RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
            RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
          RowBox[{
           SuperscriptBox["x", "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], "-", 
         RowBox[{
          RowBox[{"Sin", "[", 
           RowBox[{
            RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
            RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
          RowBox[{
           SuperscriptBox["y", "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], "-", 
         RowBox[{"l1", " ", 
          RowBox[{"Cos", "[", 
           RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
          RowBox[{"Cos", "[", 
           RowBox[{
            RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
            RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
          RowBox[{
           SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], "-", 
         RowBox[{"l1", " ", 
          RowBox[{"Sin", "[", 
           RowBox[{"\[Theta]1", "[", "t", "]"}], "]"}], " ", 
          RowBox[{"Sin", "[", 
           RowBox[{
            RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
            RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], " ", 
          RowBox[{
           SuperscriptBox["\[Theta]1", "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], "-", 
         RowBox[{"l2", " ", 
          SuperscriptBox[
           RowBox[{"Cos", "[", 
            RowBox[{
             RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
             RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], "2"], " ", 
          RowBox[{
           SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], "-", 
         RowBox[{"l2", " ", 
          SuperscriptBox[
           RowBox[{"Sin", "[", 
            RowBox[{
             RowBox[{"\[Theta]1", "[", "t", "]"}], "+", 
             RowBox[{"\[Theta]2", "[", "t", "]"}]}], "]"}], "2"], " ", 
          RowBox[{
           SuperscriptBox["\[Theta]2", "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}]}], ")"}]}], "0", "0", 
      "1"}
    },
    GridBoxAlignment->{
     "Columns" -> {{Center}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
      "RowsIndexed" -> {}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}, "RowsIndexed" -> {}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.6534745789809046`*^9, 3.653474686471053*^9, 3.65347474201523*^9, 
   3.653474803229731*^9, 3.6534752772918463`*^9, {3.65347554782932*^9, 
   3.6534755932969203`*^9}, 3.6534757634986553`*^9}]
}, Open  ]],

Cell[BoxData["  "], "Input",
 CellChangeTimes->{{3.653478858765624*^9, 3.653478859771682*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"u", "=", 
  RowBox[{
   RowBox[{"3", 
    RowBox[{
     RowBox[{
      RowBox[{"x", "'"}], "[", "t", "]"}], "^", "2"}]}], " ", "+", " ", 
   RowBox[{"5", 
    RowBox[{
     RowBox[{
      RowBox[{"y", "'"}], "[", "t", "]"}], "^", "3"}]}]}]}]], "Input",
 CellChangeTimes->{{3.653474826488062*^9, 3.6534748562017612`*^9}, {
  3.6534748966470747`*^9, 3.653474897326113*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"3", " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["x", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
  RowBox[{"5", " ", 
   SuperscriptBox[
    RowBox[{
     SuperscriptBox["y", "\[Prime]",
      MultilineFunction->None], "[", "t", "]"}], "3"]}]}]], "Output",
 CellChangeTimes->{3.653474857999864*^9, 3.653474897899146*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Coefficient", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"3", " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["x", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "2"]}], "+", 
    RowBox[{"5", " ", 
     SuperscriptBox[
      RowBox[{
       SuperscriptBox["y", "\[Prime]",
        MultilineFunction->None], "[", "t", "]"}], "3"]}]}], ",", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"x", "'"}], "[", "t", "]"}], "^", "2"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.6534748603359976`*^9, 3.6534749331921644`*^9}, {
  3.653474992274544*^9, 3.6534749941276503`*^9}}],

Cell[BoxData["3"], "Output",
 CellChangeTimes->{{3.653474880218135*^9, 3.6534749337341957`*^9}, 
   3.65347499569974*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{767, 873},
WindowMargins->{{246, Automatic}, {71, Automatic}},
PrintingCopies->1,
PrintingPageRange->{32000, 32000},
PrintingOptions->{"Magnification"->1.,
"PaperOrientation"->"Portrait",
"PaperSize"->{612., 791.9999999999999}},
FrontEndVersion->"10.0 for Microsoft Windows (64-bit) (July 1, 2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 248, 3, 166, "Title"],
Cell[CellGroupData[{
Cell[853, 29, 96, 1, 70, "Section"],
Cell[CellGroupData[{
Cell[974, 34, 3595, 96, 132, "Input"],
Cell[4572, 132, 966, 20, 447, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[5599, 159, 267, 3, 79, "Title"],
Cell[5869, 164, 4009, 119, 172, "Input"],
Cell[CellGroupData[{
Cell[9903, 287, 124, 1, 70, "Section"],
Cell[10030, 290, 164, 4, 49, "Text"],
Cell[CellGroupData[{
Cell[10219, 298, 2211, 63, 112, "Input"],
Cell[12433, 363, 13774, 360, 436, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[26256, 729, 156, 3, 111, "Section"],
Cell[CellGroupData[{
Cell[26437, 736, 2127, 64, 192, "Input"],
Cell[28567, 802, 13743, 361, 419, "Output"],
Cell[42313, 1165, 15375, 378, 101, "Output"]
}, Open  ]],
Cell[57703, 1546, 94, 1, 31, "Input"],
Cell[CellGroupData[{
Cell[57822, 1551, 395, 12, 31, "Input"],
Cell[58220, 1565, 400, 12, 31, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[58657, 1582, 618, 18, 33, "Input"],
Cell[59278, 1602, 121, 2, 64, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
